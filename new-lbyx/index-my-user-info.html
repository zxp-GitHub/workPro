<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link rel="stylesheet" type="text/css" href="css/base.css"/>
		<link rel="stylesheet" type="text/css" href="css/main.css"/>
		<link rel="stylesheet" type="text/css" href="iconfont/iconfont.css"/><!--使用iconfont要引入css-->
 		<script src="js/zepto.min.js" type="text/javascript" charset="utf-8"></script><!--要同时引入zepto,touch这两个插件tap时间才可用-->
 		<script src="js/touch.js" type="text/javascript" charset="utf-8"></script><!--注：移动端点击事件，jQuery不再适用-->
		<script src="js/main.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/link.js" type="text/javascript" charset="utf-8"></script>
		<title></title>
	</head>
	<body>
<div class="container">
			<div class="box get-avatar-box">
					<div class="get-avatar-mask">
						<div class="get-avatar-position">
							<div class="get-avatar-mask-p-cell">
								<p class="get-avatar-mask-p1">去相册选择头像<input type="file" onchange="selectImage(this);" class="get-avatar-mask-p1-pic" style="width: 100%;" /></p>
								<p class="get-avatar-mask-p2">拍照获取头像</p>
							</div>
							<p class="get-avatar-mask-p3">取消</p>
						</div>
				</div>
				<div class="top "> 
					<ul class="first-top-ul">
						<li class="first-top-li top-back-li"><i class="iconfont icon-xiaoyuhao"></i></li>
						<li class="first-top-li"><span class="first-top-li-span">用户信息</span></li>
					</ul>			
				</div><!--top-->
				<div class="all-goods-main login-main">
					<ul class="my-user-info-ul">
						<li class="my-user-info-li user-info-li-first"><span>头像</span><span class="user-info-pic-cell"><img src="img/all-goods-right-pic.png" class="user-info-pic"/></span><i class="iconfont icon-dayuhao my-user-info-dayuhao"></i></li>
						<li class="my-user-info-li user-info-li-second"><span class="user-info-li-second-span1">昵称</span><span class="user-info-li-second-nikename"></span></li>
					</ul>
						
				</div><!--main-->
			</div><!--box-->
</div><!--containter-->
	</body>
</html>
<script type="text/javascript">
	Zepto(function () {
		var Nickname = localStorage.getItem("Nickname"); 
		$(".user-info-li-first").tap(function () {
			$(".get-avatar-mask").show();
		});
		$(".get-avatar-mask-p-cell").tap(function () {
			$(".get-avatar-mask").show();
			event.stopPropagation();//不包括，在子元素上阻止冒泡即可解决。
		});
		$(".get-avatar-mask").tap(function () {
			$(".get-avatar-mask").hide();
		});
		$(".get-avatar-mask-p3").tap(function () {
			$(".get-avatar-mask").hide();
		});
		$(".user-info-li-second").tap(function () {
			window.location.href = "index-my-change-nickname.html"; 
		});
		$(".user-info-li-second-nikename").html(Nickname);
	});
	 function selectImage(file) {
	        if (!file.files || !file.files[0]) {
	            return;
	        }
        	var reader = new FileReader();
	        reader.onload = function (evt) {
	        	$(".user-info-pic").attr("src",evt.target.result);
	        	$(".get-avatar-mask").hide();
	        	image = evt.target.result;
	        }
       		 reader.readAsDataURL(file.files[0]);
    	}
</script>